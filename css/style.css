/* 클래스펫 커스텀 스타일 */
/* 성능 최적화 버전 - 모바일 우선 */

/* ======================================
   CSS 변수 및 Safe Area
   ====================================== */
:root {
    --safe-area-inset-top: env(safe-area-inset-top, 0px);
    --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
    --safe-area-inset-left: env(safe-area-inset-left, 0px);
    --safe-area-inset-right: env(safe-area-inset-right, 0px);
}

/* ======================================
   기본 레이아웃 (모바일 우선)
   ====================================== */
html, body {
    width: 100%;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background: #FFF9F0;
    min-height: 100vh;
    min-height: -webkit-fill-available;
}

/* ======================================
   앱 컨테이너 레이아웃 (완전 중앙 정렬)
   ====================================== */
.app-container {
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 100%;
    min-height: 100vh;
    min-height: -webkit-fill-available;
    margin: 0 auto;
    background: #ffffff;
    position: relative;
    padding-bottom: calc(80px + var(--safe-area-inset-bottom));
    padding-left: var(--safe-area-inset-left);
    padding-right: var(--safe-area-inset-right);
}

/* 태블릿/PC에서 최대 너비 제한 */
@media (min-width: 640px) {
    .app-container {
        max-width: 576px;
        box-shadow: 0 0 40px rgba(0,0,0,0.1);
    }
}

@media (min-width: 1024px) {
    .app-container {
        max-width: 672px;
    }
}

/* ======================================
   헤더 스타일
   ====================================== */
.app-header {
    position: sticky;
    top: 0;
    z-index: 50;
    background: #ffffff;
    border-bottom: 1px solid #f3f4f6;
    padding: 12px 16px;
    padding-top: calc(12px + var(--safe-area-inset-top));
}

/* ======================================
   메인 콘텐츠
   ====================================== */
.app-content {
    flex: 1;
    padding: 16px;
    position: relative;
    z-index: 10;
}

/* ======================================
   하단 네비게이션
   ====================================== */
.app-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 50;
    padding: 8px;
    padding-bottom: calc(8px + var(--safe-area-inset-bottom));
    display: flex;
    justify-content: center;
}

/* 태블릿/PC에서 네비 위치 */
@media (min-width: 640px) {
    .app-nav {
        max-width: 576px;
        left: 50%;
        transform: translateX(-50%);
    }
}

@media (min-width: 1024px) {
    .app-nav {
        max-width: 672px;
    }
}

/* ======================================
   토스트 컨테이너
   ====================================== */
.toast-container {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 200;
    pointer-events: none;
}

.toast-container > * {
    pointer-events: auto;
}

/* 네비게이션 Dock 컨테이너 - 리퀴드 글라스 */
.nav-dock {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    gap: 4px;
    padding: 10px 14px;
    background: linear-gradient(145deg, rgba(255,255,255,0.45) 0%, rgba(255,255,255,0.15) 100%);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,0.5);
    border-radius: 24px;
    box-shadow:
        0 8px 32px rgba(0,0,0,0.12),
        0 2px 8px rgba(0,0,0,0.06),
        inset 0 1px 2px rgba(255,255,255,0.6),
        inset 0 -1px 2px rgba(0,0,0,0.05);
    position: relative;
    overflow: hidden;
}

.nav-dock::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.35) 0%, transparent 100%);
    border-radius: 28px 28px 0 0;
    pointer-events: none;
}

/* 네비게이션 아이템 - 리퀴드 글라스 앱 아이콘 */
.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 68px;
    height: 64px;
    padding: 8px 10px;
    color: #4B5563;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 18px;
    background: linear-gradient(145deg, rgba(255,255,255,0.55) 0%, rgba(255,255,255,0.2) 100%);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.6);
    box-shadow:
        0 4px 12px rgba(0,0,0,0.08),
        0 1px 3px rgba(0,0,0,0.05),
        inset 0 1px 2px rgba(255,255,255,0.7),
        inset 0 -1px 1px rgba(0,0,0,0.03);
    position: relative;
    overflow: hidden;
}

.nav-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.4) 0%, transparent 100%);
    border-radius: 18px 18px 0 0;
    pointer-events: none;
}

.nav-item:hover {
    color: #4F46E5;
    background: linear-gradient(145deg, rgba(255,255,255,0.65) 0%, rgba(255,255,255,0.3) 100%);
    transform: scale(1.08);
    box-shadow:
        0 8px 24px rgba(99,102,241,0.15),
        0 2px 6px rgba(0,0,0,0.08),
        inset 0 1px 2px rgba(255,255,255,0.8),
        inset 0 -1px 1px rgba(0,0,0,0.03);
}

.nav-item.active {
    color: #4F46E5;
    background: linear-gradient(145deg, rgba(255,255,255,0.75) 0%, rgba(255,255,255,0.35) 100%);
    border: 1px solid rgba(79,70,229,0.3);
    box-shadow:
        0 6px 20px rgba(99,102,241,0.2),
        0 2px 6px rgba(0,0,0,0.06),
        inset 0 1px 3px rgba(255,255,255,0.9),
        inset 0 -1px 1px rgba(0,0,0,0.03);
}

.nav-item.active span:first-child {
    transform: scale(1.1);
}

/* 파스텔 블루 */
.nav-item.nav-blue {
    background: linear-gradient(145deg, rgba(147,197,253,0.05) 0%, rgba(96,165,250,0.05) 100%);
}
.nav-item.nav-blue:hover,
.nav-item.nav-blue.active {
    background: linear-gradient(145deg, rgba(147,197,253,0.1) 0%, rgba(96,165,250,0.1) 100%);
    border-color: rgba(96,165,250,0.3);
}

/* 파스텔 민트 */
.nav-item.nav-mint {
    background: linear-gradient(145deg, rgba(110,231,183,0.05) 0%, rgba(52,211,153,0.05) 100%);
}
.nav-item.nav-mint:hover,
.nav-item.nav-mint.active {
    background: linear-gradient(145deg, rgba(110,231,183,0.1) 0%, rgba(52,211,153,0.1) 100%);
    border-color: rgba(52,211,153,0.3);
}

/* 파스텔 옐로우 */
.nav-item.nav-yellow {
    background: linear-gradient(145deg, rgba(252,211,77,0.05) 0%, rgba(251,191,36,0.05) 100%);
}
.nav-item.nav-yellow:hover,
.nav-item.nav-yellow.active {
    background: linear-gradient(145deg, rgba(252,211,77,0.1) 0%, rgba(251,191,36,0.1) 100%);
    border-color: rgba(251,191,36,0.3);
}

/* 파스텔 핑크 */
.nav-item.nav-pink {
    background: linear-gradient(145deg, rgba(249,168,212,0.05) 0%, rgba(244,114,182,0.05) 100%);
}
.nav-item.nav-pink:hover,
.nav-item.nav-pink.active {
    background: linear-gradient(145deg, rgba(249,168,212,0.1) 0%, rgba(244,114,182,0.1) 100%);
    border-color: rgba(244,114,182,0.3);
}

/* 파스텔 퍼플 */
.nav-item.nav-purple {
    background: linear-gradient(145deg, rgba(192,132,252,0.05) 0%, rgba(168,85,247,0.05) 100%);
}
.nav-item.nav-purple:hover,
.nav-item.nav-purple.active {
    background: linear-gradient(145deg, rgba(192,132,252,0.1) 0%, rgba(168,85,247,0.1) 100%);
    border-color: rgba(168,85,247,0.3);
}

.nav-item span:first-child {
    font-size: 24px;
}

.nav-item span:last-child {
    font-size: 11px;
    margin-top: 3px;
    font-weight: 600;
    color: inherit;
}

/* 태블릿 이상에서 네비 아이템 크기 확대 */
@media (min-width: 640px) {
    .nav-dock {
        padding: 12px 20px;
        gap: 8px;
    }

    .nav-item {
        width: 80px;
        height: 72px;
    }

    .nav-item span:first-child {
        font-size: 28px;
    }

    .nav-item span:last-child {
        font-size: 12px;
    }
}

/* 헤더 버튼 - 리퀴드 글라스 */
.header-glass-btn {
    background: linear-gradient(145deg, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0.15) 100%);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.6);
    border-radius: 12px;
    box-shadow:
        0 4px 12px rgba(0,0,0,0.06),
        inset 0 1px 2px rgba(255,255,255,0.7),
        inset 0 -1px 1px rgba(0,0,0,0.03);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.header-glass-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.4) 0%, transparent 100%);
    border-radius: 12px 12px 0 0;
    pointer-events: none;
}

.header-glass-btn:hover {
    background: linear-gradient(145deg, rgba(219,234,254,0.8) 0%, rgba(191,219,254,0.5) 100%);
    transform: translateY(-1px);
    box-shadow:
        0 6px 16px rgba(59,130,246,0.15),
        inset 0 1px 2px rgba(255,255,255,0.8),
        inset 0 -1px 1px rgba(0,0,0,0.03);
    color: #3B82F6;
}

/* 로그아웃 버튼 호버 - 빨간색 */
#headerLogoutBtn:hover {
    background: linear-gradient(145deg, rgba(254,226,226,0.8) 0%, rgba(254,202,202,0.5) 100%);
    box-shadow:
        0 6px 16px rgba(239,68,68,0.15),
        inset 0 1px 2px rgba(255,255,255,0.8),
        inset 0 -1px 1px rgba(0,0,0,0.03);
    color: #EF4444;
}

/* 헤더 학급 정보 - 리퀴드 글라스 */
.header-glass-info {
    background: linear-gradient(145deg, rgba(255,255,255,0.55) 0%, rgba(255,255,255,0.2) 100%);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.6);
    border-radius: 12px;
    box-shadow:
        0 4px 12px rgba(0,0,0,0.06),
        inset 0 1px 2px rgba(255,255,255,0.7),
        inset 0 -1px 1px rgba(0,0,0,0.03);
    position: relative;
    overflow: hidden;
}

.header-glass-info::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.35) 0%, transparent 100%);
    border-radius: 12px 12px 0 0;
    pointer-events: none;
}

/* 헤더 Dock 컨테이너 - 리퀴드 글라스 */
.header-dock {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    padding: 8px 12px;
    background: linear-gradient(145deg, rgba(255,255,255,0.45) 0%, rgba(255,255,255,0.15) 100%);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,0.5);
    border-radius: 20px;
    box-shadow:
        0 8px 32px rgba(0,0,0,0.1),
        0 2px 8px rgba(0,0,0,0.05),
        inset 0 1px 2px rgba(255,255,255,0.6),
        inset 0 -1px 2px rgba(0,0,0,0.04);
    position: relative;
    overflow: hidden;
}

.header-dock::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.3) 0%, transparent 100%);
    border-radius: 20px 20px 0 0;
    pointer-events: none;
}

/* 카드 스타일 */
.card {
    background: rgba(255, 255, 255, 0.88);
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    padding: 16px;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    position: relative;
    z-index: 5;
}

.card:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.12);
}

/* 펫 카드 스타일 */
.pet-card {
    background: linear-gradient(135deg, #FFF9F0 0%, #FFFFFF 100%);
    border-radius: 20px;
    padding: 16px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.pet-card:hover {
    border-color: #7C9EF5;
    transform: scale(1.02);
}

.pet-card:active {
    transform: scale(0.98);
}

/* 컴팩트 펫 카드 (그리드 뷰) */
.pet-card-compact {
    background: linear-gradient(135deg, #FFF9F0 0%, #FFFFFF 100%);
    border-radius: 12px;
    padding: 10px 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.pet-card-compact:hover {
    border-color: #7C9EF5;
    transform: scale(1.02);
}

.pet-card-compact:active {
    transform: scale(0.98);
}

/* 원형 프로그레스 펫 카드 */
.pet-circle-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: white;
    border-radius: 16px;
    padding: 12px 8px 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
    position: relative;
}

.pet-circle-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

.pet-circle-card:active {
    transform: scale(0.98);
}

/* 원형 프로그레스 컨테이너 */
.circle-progress-container {
    position: relative;
    width: 76px;
    height: 76px;
}

.circle-progress {
    transform: rotate(0deg);
}

.circle-progress-bar {
    transition: stroke-dashoffset 0.6s ease;
}

/* 중앙 콘텐츠 */
.circle-center-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

/* 레벨 배지 (원형 카드용) */
/* 레벨 배지 (원 안에서 이모지 아래) */
.level-badge-inside {
    background: linear-gradient(135deg, #F59E0B 0%, #F97316 100%);
    color: white;
    font-size: 9px;
    font-weight: 700;
    padding: 2px 6px;
    border-radius: 8px;
    margin-top: -2px;
    box-shadow: 0 1px 3px rgba(245, 158, 11, 0.3);
}

/* 펫 카드 그리드 */
.pet-circle-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
}

@media (min-width: 400px) {
    .pet-circle-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (min-width: 640px) {
    .pet-circle-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

@media (min-width: 1024px) {
    .pet-circle-grid {
        grid-template-columns: repeat(5, 1fr);
    }
}

/* 펫 이모지 크기 (레벨별) */
.pet-emoji {
    display: inline-block;
    transition: all 0.3s ease;
}

.pet-emoji.level-egg {
    font-size: 32px;
}

.pet-emoji.level-baby {
    font-size: 40px;
}

.pet-emoji.level-growing {
    font-size: 52px;
}

.pet-emoji.level-adult {
    font-size: 64px;
}

/* 펫 애니메이션 */
@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

@keyframes wiggle {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-5deg); }
    75% { transform: rotate(5deg); }
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

@keyframes sparkle {
    0%, 100% { opacity: 1; filter: brightness(1); }
    50% { opacity: 0.8; filter: brightness(1.3); }
}

@keyframes levelUp {
    0% { transform: scale(1); }
    25% { transform: scale(1.3); }
    50% { transform: scale(1); }
    75% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

.pet-bounce {
    animation: bounce 0.5s ease infinite;
}

.pet-wiggle {
    animation: wiggle 0.3s ease;
}

.pet-pulse {
    animation: pulse 2s ease-in-out infinite;
}

.pet-sparkle {
    animation: sparkle 1.5s ease-in-out infinite;
}

.pet-levelup {
    animation: levelUp 0.8s ease;
}

/* 경험치 바 */
.exp-bar {
    height: 8px;
    background: #E5E7EB;
    border-radius: 4px;
    overflow: hidden;
}

.exp-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, #7CE0A3 0%, #7C9EF5 100%);
    border-radius: 4px;
    transition: width 0.5s ease;
}

/* 레벨 뱃지 */
.level-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
    padding: 0 8px;
    background: linear-gradient(135deg, #F5A67C 0%, #F5E07C 100%);
    color: white;
    font-size: 12px;
    font-weight: 600;
    border-radius: 12px;
    box-shadow: 0 2px 4px rgba(245, 166, 124, 0.3);
}

/* 카테고리 버튼 */
.category-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 12px;
    background: #F9FAFB;
    border-radius: 16px;
    transition: all 0.2s ease;
    border: 2px solid transparent;
}

.category-btn:hover {
    background: #FFF9F0;
    border-color: #F5A67C;
}

.category-btn:active {
    transform: scale(0.95);
}

.category-btn.selected {
    background: linear-gradient(135deg, rgba(124, 158, 245, 0.1) 0%, rgba(124, 224, 163, 0.1) 100%);
    border-color: #7C9EF5;
}

/* 주간 네비게이터 Dock (리퀴드 글라스) */
.week-navigator-dock {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 6px 12px;
    background: linear-gradient(145deg, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0.2) 100%);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255,255,255,0.6);
    border-radius: 20px;
    box-shadow:
        0 4px 16px rgba(0,0,0,0.06),
        inset 0 1px 2px rgba(255,255,255,0.7),
        inset 0 -1px 1px rgba(0,0,0,0.03);
    position: relative;
    overflow: hidden;
}

.week-navigator-dock::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.4) 0%, transparent 100%);
    border-radius: 20px 20px 0 0;
    pointer-events: none;
}

.week-nav-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border-radius: 10px;
    background: linear-gradient(145deg, rgba(255,255,255,0.6) 0%, rgba(255,255,255,0.3) 100%);
    border: 1px solid rgba(255,255,255,0.7);
    color: #4B5563;
    transition: all 0.2s ease;
    position: relative;
    z-index: 1;
}

.week-nav-btn:hover {
    background: linear-gradient(145deg, rgba(219,234,254,0.8) 0%, rgba(191,219,254,0.6) 100%);
    color: #3B82F6;
    transform: scale(1.05);
}

.week-nav-btn:active {
    transform: scale(0.95);
}

/* 시간표 그리드 Dock (리퀴드 글라스) */
.timetable-grid-dock {
    padding: 6px;
    background: linear-gradient(145deg, rgba(255,255,255,0.45) 0%, rgba(255,255,255,0.15) 100%);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255,255,255,0.5);
    border-radius: 24px;
    box-shadow:
        0 6px 24px rgba(0,0,0,0.08),
        inset 0 1px 2px rgba(255,255,255,0.6),
        inset 0 -1px 2px rgba(0,0,0,0.04);
    position: relative;
    overflow: hidden;
}

.timetable-grid-dock::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.35) 0%, transparent 100%);
    border-radius: 24px 24px 0 0;
    pointer-events: none;
}

/* 시간표 버튼 Dock (리퀴드 글라스) */
.timetable-btn-dock {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 8px;
    background: linear-gradient(145deg, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0.2) 100%);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.6);
    border-radius: 18px;
    box-shadow:
        0 4px 12px rgba(0,0,0,0.06),
        inset 0 1px 2px rgba(255,255,255,0.7),
        inset 0 -1px 1px rgba(0,0,0,0.03);
    position: relative;
    overflow: hidden;
}

.timetable-btn-dock::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.35) 0%, transparent 100%);
    border-radius: 18px 18px 0 0;
    pointer-events: none;
}

/* 시간표 헤더 버튼 */
.timetable-header-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    background: linear-gradient(145deg, rgba(255,255,255,0.85) 0%, rgba(255,255,255,0.6) 100%);
    border: 1px solid rgba(255,255,255,0.7);
    border-radius: 20px;
    padding: 8px 14px;
    font-size: 13px;
    font-weight: 600;
    color: #4B5563;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    position: relative;
    z-index: 1;
}

.timetable-header-btn:hover {
    background: linear-gradient(145deg, rgba(219,234,254,0.9) 0%, rgba(191,219,254,0.7) 100%);
    transform: scale(1.03);
    box-shadow: 0 4px 12px rgba(59,130,246,0.15);
    color: #3B82F6;
}

.timetable-header-btn.active {
    background: linear-gradient(135deg, #7C9EF5 0%, #5B7ED9 100%);
    border-color: rgba(124, 158, 245, 0.5);
    color: white;
    box-shadow: 0 2px 8px rgba(124, 158, 245, 0.3);
}

/* 설정 버튼 Dock (리퀴드 글라스) */
.settings-btn-dock {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 8px;
    background: linear-gradient(145deg, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0.2) 100%);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.6);
    border-radius: 18px;
    box-shadow:
        0 4px 12px rgba(0,0,0,0.06),
        inset 0 1px 2px rgba(255,255,255,0.7),
        inset 0 -1px 1px rgba(0,0,0,0.03);
    position: relative;
    overflow: hidden;
    flex-shrink: 0;
}

.settings-btn-dock::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.35) 0%, transparent 100%);
    border-radius: 18px 18px 0 0;
    pointer-events: none;
}

/* 설정 헤더 버튼 */
.settings-header-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    background: linear-gradient(145deg, rgba(255,255,255,0.85) 0%, rgba(255,255,255,0.6) 100%);
    border: 1px solid rgba(255,255,255,0.7);
    border-radius: 20px;
    padding: 6px 12px;
    font-size: 12px;
    font-weight: 600;
    color: #4B5563;
    transition: all 0.2s ease;
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    position: relative;
    z-index: 1;
    white-space: nowrap;
}

.settings-header-btn:hover {
    background: linear-gradient(145deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.7) 100%);
    transform: scale(1.03);
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

.settings-header-btn.logout {
    color: #EF4444;
}

.settings-header-btn.logout:hover {
    background: linear-gradient(145deg, rgba(254,226,226,0.9) 0%, rgba(254,202,202,0.7) 100%);
}

.settings-header-btn.save {
    color: #3B82F6;
}

.settings-header-btn.save:hover {
    background: linear-gradient(145deg, rgba(219,234,254,0.9) 0%, rgba(191,219,254,0.7) 100%);
}

/* 작은 사이즈 버튼 */
.settings-btn-dock.small {
    padding: 4px 6px;
    gap: 4px;
    border-radius: 14px;
}

.settings-header-btn.small {
    padding: 4px 8px;
    font-size: 11px;
    border-radius: 12px;
    gap: 3px;
}

/* 빠른 액션 버튼 (리퀴드 글라스) */
.quick-action-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 14px 20px;
    background: linear-gradient(145deg, rgba(255,237,213,0.85) 0%, rgba(254,215,170,0.7) 100%);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.6);
    border-radius: 16px;
    box-shadow:
        0 4px 16px rgba(251,146,60,0.2),
        inset 0 1px 2px rgba(255,255,255,0.7),
        inset 0 -1px 1px rgba(0,0,0,0.03);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    color: #C2410C;
    cursor: pointer;
}

.quick-action-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.4) 0%, transparent 100%);
    border-radius: 16px 16px 0 0;
    pointer-events: none;
}

.quick-action-btn:hover {
    transform: translateY(-2px);
    box-shadow:
        0 6px 20px rgba(251,146,60,0.3),
        inset 0 1px 2px rgba(255,255,255,0.8),
        inset 0 -1px 1px rgba(0,0,0,0.03);
    background: linear-gradient(145deg, rgba(254,215,170,0.95) 0%, rgba(253,186,116,0.8) 100%);
}

.quick-action-btn:active {
    transform: translateY(0) scale(0.98);
}

/* 작은 빠른 액션 버튼 (헤더용 - 리퀴드 글라스) */
.quick-action-btn-small {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 6px 14px;
    background: linear-gradient(145deg, rgba(255,247,237,0.9) 0%, rgba(254,232,200,0.8) 100%);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255,255,255,0.7);
    border-radius: 50px;
    box-shadow:
        0 4px 16px rgba(251,146,60,0.12),
        0 2px 4px rgba(0,0,0,0.04),
        inset 0 1px 2px rgba(255,255,255,0.8),
        inset 0 -1px 1px rgba(0,0,0,0.02);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    color: #EA580C;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
}

.quick-action-btn-small::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.5) 0%, transparent 100%);
    border-radius: 50px 50px 0 0;
    pointer-events: none;
}

.quick-action-btn-small:hover {
    transform: translateY(-1px) scale(1.02);
    box-shadow:
        0 6px 20px rgba(251,146,60,0.2),
        0 2px 6px rgba(0,0,0,0.06),
        inset 0 1px 2px rgba(255,255,255,0.9),
        inset 0 -1px 1px rgba(0,0,0,0.02);
    background: linear-gradient(145deg, rgba(254,232,200,0.95) 0%, rgba(253,216,168,0.9) 100%);
}

.quick-action-btn-small:active {
    transform: translateY(0) scale(0.98);
}

/* 기본 리퀴드 글라스 버튼 (블루 계열) */
.liquid-btn-small {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 6px 14px;
    background: linear-gradient(145deg, rgba(239,246,255,0.9) 0%, rgba(219,234,254,0.8) 100%);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid rgba(255,255,255,0.7);
    border-radius: 50px;
    box-shadow:
        0 4px 16px rgba(99,102,241,0.1),
        0 2px 4px rgba(0,0,0,0.04),
        inset 0 1px 2px rgba(255,255,255,0.8),
        inset 0 -1px 1px rgba(0,0,0,0.02);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    color: #4F46E5;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
}

.liquid-btn-small::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.5) 0%, transparent 100%);
    border-radius: 50px 50px 0 0;
    pointer-events: none;
}

.liquid-btn-small:hover {
    transform: translateY(-1px) scale(1.02);
    box-shadow:
        0 6px 20px rgba(99,102,241,0.15),
        0 2px 6px rgba(0,0,0,0.06),
        inset 0 1px 2px rgba(255,255,255,0.9),
        inset 0 -1px 1px rgba(0,0,0,0.02);
    background: linear-gradient(145deg, rgba(219,234,254,0.95) 0%, rgba(199,210,254,0.9) 100%);
}

.liquid-btn-small:active {
    transform: translateY(0) scale(0.98);
}

/* 시간표 셀 (기존 - 호환성 유지) */
.timetable-cell {
    min-height: 48px;
    padding: 8px;
    background: white;
    border-radius: 8px;
    font-size: 14px;
    text-align: center;
    transition: all 0.2s ease;
    cursor: pointer;
}

.timetable-cell:hover {
    background: #FFF9F0;
}

.timetable-cell.today {
    background: linear-gradient(135deg, rgba(124, 158, 245, 0.15) 0%, rgba(124, 158, 245, 0.05) 100%);
    border: 2px solid #7C9EF5;
}

.timetable-cell.completed {
    background: linear-gradient(135deg, rgba(124, 224, 163, 0.15) 0%, rgba(124, 224, 163, 0.05) 100%);
    color: #059669;
}

/* 시간표 셀 (리퀴드 글라스 스타일) */
.timetable-cell-new {
    min-height: 50px;
    padding: 8px 5px;
    background: linear-gradient(145deg, rgba(255,255,255,0.55) 0%, rgba(255,255,255,0.2) 100%);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.6);
    border-radius: 14px;
    font-size: 14px;
    text-align: center;
    transition: all 0.2s ease;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Noto Sans KR', sans-serif;
    white-space: nowrap;
    box-shadow:
        0 2px 8px rgba(0,0,0,0.06),
        inset 0 1px 2px rgba(255,255,255,0.7),
        inset 0 -1px 1px rgba(0,0,0,0.03);
    position: relative;
    overflow: hidden;
}

.timetable-cell-new::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.4) 0%, transparent 100%);
    border-radius: 14px 14px 0 0;
    pointer-events: none;
}

.timetable-cell-new:hover {
    transform: scale(1.03);
    box-shadow:
        0 4px 12px rgba(0,0,0,0.1),
        inset 0 1px 2px rgba(255,255,255,0.8),
        inset 0 -1px 1px rgba(0,0,0,0.03);
}

.timetable-cell-new.today-empty {
    background: linear-gradient(135deg, rgba(124, 158, 245, 0.15) 0%, rgba(124, 158, 245, 0.08) 100%);
    border: 2px dashed #7C9EF5;
}

/* 오버라이드된 셀 (임시 변경) */
.timetable-cell-new.overridden {
    position: relative;
    border: 2px solid #F59E0B;
}

.timetable-cell-new .override-badge {
    position: absolute;
    top: 2px;
    right: 4px;
    font-size: 10px;
    color: #F59E0B;
}

/* 감정 아이콘 */
.emotion-btn {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    background: #F9FAFB;
    border-radius: 50%;
    transition: all 0.2s ease;
    border: 3px solid transparent;
}

.emotion-btn:hover {
    transform: scale(1.1);
}

.emotion-btn.selected {
    border-color: #7C9EF5;
    background: rgba(124, 158, 245, 0.1);
}

/* 모달 스타일 */
#modalContainer .modal-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.95);
    width: calc(100% - 2rem);
    max-width: 28rem;
    max-height: calc(100vh - 4rem);
    overflow-y: auto;
    background: white;
    border-radius: 1rem;
    padding: 1.5rem;
    opacity: 0;
    transition: all 0.3s ease;
}

#modalContainer.show {
    display: block;
}

#modalContainer.show .modal-content {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
}

/* 토스트 메시지 */
.toast {
    padding: 16px 24px;
    background: white;
    color: #1F2937;
    border-radius: 16px;
    font-size: 14px;
    font-weight: 600;
    line-height: 1.5;
    text-align: center;
    white-space: pre-line;
    box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    animation: toastIn 0.3s ease, toastOut 0.3s ease 5.7s forwards;
    cursor: pointer;
    max-width: 280px;
}

/* 클릭으로 닫는 토스트 (자동 사라짐 없음) */
.toast.toast-persistent {
    animation: toastIn 0.3s ease forwards;
}

@keyframes toastIn {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes toastOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-20px);
    }
}

/* 진도율 원형 차트 */
.progress-ring {
    transform: rotate(-90deg);
}

.progress-ring-circle {
    transition: stroke-dashoffset 0.5s ease;
}

/* MVP 뱃지 */
.mvp-badge {
    position: absolute;
    top: -8px;
    right: -8px;
    font-size: 20px;
    animation: sparkle 1.5s ease-in-out infinite;
}

/* 주의 필요 알림 */
.attention-badge {
    position: absolute;
    top: -4px;
    right: -4px;
    width: 12px;
    height: 12px;
    background: #F57C7C;
    border-radius: 50%;
    border: 2px solid white;
    animation: pulse 2s ease-in-out infinite;
}

/* 그리드 레이아웃 */
.pet-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 12px;
}

/* 스크롤바 스타일링 */
::-webkit-scrollbar {
    width: 3px;
    height: 3px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 2px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.15);
}

/* 칭찬 히스토리 아이템 */
.praise-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: #F9FAFB;
    border-radius: 12px;
    transition: background 0.2s ease;
}

.praise-item:hover {
    background: #FFF9F0;
}

/* 통계 카드 */
.stat-card {
    background: linear-gradient(135deg, rgba(124, 158, 245, 0.1) 0%, rgba(124, 224, 163, 0.1) 100%);
    border-radius: 16px;
    padding: 16px;
    text-align: center;
}

/* 랭킹 헤더 */
.ranking-header {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    border-bottom: 1px solid #E5E7EB;
    margin-bottom: 8px;
}

.ranking-header span {
    font-size: 14px;
    font-weight: 600;
    color: #1F2937;
    text-align: center;
}

/* 랭킹 카드 */
.ranking-card {
    display: flex;
    align-items: center;
    padding: 12px;
    background: #F9FAFB;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-weight: 600;
}

.ranking-card:hover {
    background: #FFF9F0;
}

/* 랭킹 칼럼 너비 */
.ranking-col-rank {
    width: 48px;
    text-align: center;
    flex-shrink: 0;
    color: #1F2937;
}

.ranking-col-emoji {
    width: 48px;
    text-align: center;
    flex-shrink: 0;
}

.ranking-col-number {
    width: 48px;
    text-align: center;
    font-size: 14px;
    color: #1F2937;
    flex-shrink: 0;
}

.ranking-col-name {
    flex: 1;
    text-align: center;
    font-size: 14px;
    color: #1F2937;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    min-width: 0;
}

.ranking-col-level {
    width: 56px;
    text-align: center;
    font-size: 14px;
    color: #1F2937;
    flex-shrink: 0;
}

.ranking-col-exp {
    width: 56px;
    text-align: center;
    font-size: 14px;
    color: #1F2937;
    flex-shrink: 0;
}

/* 입력 필드 */
input[type="text"],
input[type="number"],
textarea,
select {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid #E5E7EB;
    border-radius: 12px;
    font-size: 14px;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
    background: white;
}

input[type="text"]:focus,
input[type="number"]:focus,
textarea:focus,
select:focus {
    outline: none;
    border-color: #7C9EF5;
    box-shadow: 0 0 0 3px rgba(124, 158, 245, 0.2);
}

/* 버튼 스타일 */
.btn {
    padding: 12px 24px;
    font-size: 14px;
    font-weight: 600;
    border-radius: 12px;
    transition: all 0.2s ease;
    cursor: pointer;
}

.btn-primary {
    background: linear-gradient(135deg, #7C9EF5 0%, #5B7ED9 100%);
    color: white;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(124, 158, 245, 0.4);
}

.btn-secondary {
    background: #F3F4F6;
    color: #4B5563;
}

.btn-secondary:hover {
    background: #E5E7EB;
}

.btn-success {
    background: linear-gradient(135deg, #7CE0A3 0%, #059669 100%);
    color: white;
}

.btn-danger {
    background: linear-gradient(135deg, #F57C7C 0%, #DC2626 100%);
    color: white;
}

.btn-warning {
    background: linear-gradient(135deg, #FCD34D 0%, #F59E0B 100%);
    color: #78350F;
}

.btn-warning:hover {
    background: linear-gradient(135deg, #FBBF24 0%, #D97706 100%);
}

/* 섹션 제목 */
.section-title {
    font-size: 18px;
    font-weight: 700;
    color: #1F2937;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
}

/* 빈 상태 */
.empty-state {
    text-align: center;
    padding: 40px 20px;
    color: #9CA3AF;
}

.empty-state-icon {
    font-size: 48px;
    margin-bottom: 12px;
}

/* 로딩 스피너 */
.spinner {
    width: 24px;
    height: 24px;
    border: 3px solid #E5E7EB;
    border-top-color: #7C9EF5;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* 탭 스타일 */
.tab-group {
    display: flex;
    background: #F3F4F6;
    border-radius: 12px;
    padding: 4px;
}

.tab-item {
    flex: 1;
    padding: 10px 16px;
    text-align: center;
    font-size: 14px;
    font-weight: 500;
    color: #6B7280;
    border-radius: 8px;
    transition: all 0.2s ease;
}

.tab-item.active {
    background: white;
    color: #7C9EF5;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

/* 플로팅 액션 버튼 */
.fab {
    position: fixed;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
    transition: all 0.3s ease;
    cursor: pointer;
}

.fab:hover {
    transform: scale(1.1);
}

.fab:active {
    transform: scale(0.95);
}

/* 리스트 아이템 */
.list-item {
    display: flex;
    align-items: center;
    padding: 12px;
    background: white;
    border-radius: 12px;
    margin-bottom: 8px;
    transition: all 0.2s ease;
    cursor: pointer;
}

.list-item:hover {
    background: #FFF9F0;
    transform: translateX(4px);
}

/* 반응형 조정 */
@media (max-width: 380px) {
    .pet-grid {
        grid-template-columns: repeat(3, 1fr);
    }

    .category-btn span:last-child {
        font-size: 10px;
    }
}

/* 오버레이 레이어 */
.overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.overlay.show {
    opacity: 1;
    visibility: visible;
}

/* 칭찬 효과 파티클 */
@keyframes confetti {
    0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: translateY(-100px) rotate(720deg);
        opacity: 0;
    }
}

.confetti {
    position: absolute;
    font-size: 20px;
    animation: confetti 1s ease forwards;
}

/* ======================================
   학생 모드 스타일
   ====================================== */

/* 학생 로그인 화면 */
.student-login-container {
    background: linear-gradient(180deg, #FFF9F0 0%, #FFFFFF 100%);
}

.student-number-btn {
    aspect-ratio: 1;
}

.student-number-btn:active {
    transform: scale(0.95);
}

/* 학생 모드 메인 화면 */
.student-mode-container {
    min-height: calc(100vh - 80px);
}

/* 펫 표시 영역 */
.pet-display-area {
    padding: 32px 16px;
    background: linear-gradient(180deg, rgba(124, 224, 163, 0.1) 0%, transparent 100%);
    border-radius: 0 0 32px 32px;
}

/* 펫 말풍선 */
.pet-speech-bubble {
    position: relative;
}

.pet-speech-bubble .speech-arrow {
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-bottom: 10px solid white;
}

/* 감정 선택 버튼 */
.emotion-select-btn {
    border: 3px solid transparent;
}

.emotion-select-btn.selected {
    border-color: #7C9EF5;
    background: rgba(124, 158, 245, 0.1);
    transform: scale(1.1);
}

/* ======================================
   펫 반응 애니메이션 (학생 모드)
   ====================================== */

/* 점프 애니메이션 (아주 좋아요) */
@keyframes pet-jump {
    0%, 100% { transform: translateY(0) scale(1); }
    25% { transform: translateY(-30px) scale(1.1); }
    50% { transform: translateY(-10px) scale(1.05); }
    75% { transform: translateY(-20px) scale(1.08); }
}

.pet-jump {
    animation: pet-jump 0.8s ease-in-out;
}

/* 흔들림 애니메이션 (좋아요) */
@keyframes pet-wiggle-student {
    0%, 100% { transform: rotate(0deg); }
    20% { transform: rotate(-10deg); }
    40% { transform: rotate(10deg); }
    60% { transform: rotate(-8deg); }
    80% { transform: rotate(8deg); }
}

/* 고개 갸웃 (보통) */
@keyframes pet-tilt {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(-15deg); }
}

.pet-tilt {
    animation: pet-tilt 0.5s ease-in-out 2;
}

/* 다가가기 (안 좋아요) */
@keyframes pet-approach {
    0% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-5px) scale(1.15); }
    100% { transform: translateY(0) scale(1.1); }
}

.pet-approach {
    animation: pet-approach 0.6s ease forwards;
}

/* 안아주기 (힘들어요) */
@keyframes pet-hug {
    0% { transform: scale(1); }
    30% { transform: scale(1.2); }
    60% { transform: scale(1.15) rotate(-5deg); }
    100% { transform: scale(1.1) rotate(0deg); }
}

.pet-hug {
    animation: pet-hug 0.8s ease forwards;
}

/* 느린 바운스 (로그인 화면) */
@keyframes bounce-slow {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
}

.animate-bounce-slow {
    animation: bounce-slow 2s ease-in-out infinite;
}

/* 대화 말풍선 스타일 */
.student-bubble {
    box-shadow: 0 2px 8px rgba(124, 158, 245, 0.2);
}

.pet-bubble {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

/* 대화 아이템 */
.chat-item {
    margin-bottom: 16px;
    padding-bottom: 16px;
    border-bottom: 1px solid #F3F4F6;
}

.chat-item:last-child {
    border-bottom: none;
}

/* 학생 모드 반응형 */
@media (max-width: 380px) {
    .emotion-select-btn {
        width: 44px;
        height: 44px;
        font-size: 24px;
    }

    .pet-display-area .text-8xl {
        font-size: 64px;
    }
}

/* ======================================
   로그인 선택 화면 스타일
   ====================================== */

.login-select-container {
    background: linear-gradient(135deg, rgba(216, 180, 254, 0.03) 0%, rgba(147, 197, 253, 0.03) 50%, rgba(251, 207, 232, 0.03) 100%);
}

.login-select-btn {
    cursor: pointer;
    backdrop-filter: blur(8px);
}

.login-select-btn:active {
    transform: scale(0.98) translateY(0) !important;
}

/* 교사 로그인 화면 */
.teacher-login-container {
    background: linear-gradient(180deg, #FFF9F0 0%, #FFFFFF 100%);
}

/* 비밀번호 입력 필드 */
input[type="password"] {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid #E5E7EB;
    border-radius: 12px;
    font-size: 14px;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
    background: white;
}

input[type="password"]:focus {
    outline: none;
    border-color: #7C9EF5;
    box-shadow: 0 0 0 3px rgba(124, 158, 245, 0.2);
}

/* ======================================
   알림 관련 스타일
   ====================================== */

/* 알림 버튼 */
#notificationBtn {
    position: relative;
}

/* 알림 배지 */
#notificationBadge {
    font-size: 10px;
    min-width: 18px;
    height: 18px;
    line-height: 18px;
    padding: 0 4px;
}

/* 알림 아이템 */
.notification-item {
    transition: all 0.2s ease;
}

.notification-item:hover {
    transform: translateX(4px);
}

/* 알림 미읽음 표시 dot */
.notification-item .w-2 {
    flex-shrink: 0;
}

/* 알림 모달 스크롤 */
.max-h-80 {
    scrollbar-width: thin;
    scrollbar-color: #D1D5DB transparent;
}

/* ======================================
   PIN 입력 스타일
   ====================================== */

/* PIN 입력 필드 */
.pin-input {
    width: 48px;
    height: 56px;
    text-align: center;
    font-size: 24px;
    font-weight: 700;
    font-family: 'Noto Sans KR', monospace;
    border: 2px solid #E5E7EB;
    border-radius: 12px;
    background: #F9FAFB;
    transition: all 0.2s ease;
    padding: 0;
}

.pin-input:focus {
    outline: none;
    border-color: #7C9EF5;
    background: white;
    box-shadow: 0 0 0 3px rgba(124, 158, 245, 0.2);
}

.pin-input.border-red-400 {
    border-color: #F87171;
    background: #FEF2F2;
}

/* 흔들기 애니메이션 */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-8px); }
    40% { transform: translateX(8px); }
    60% { transform: translateX(-8px); }
    80% { transform: translateX(8px); }
}

.shake {
    animation: shake 0.5s ease-in-out;
}

/* PIN 모달 스타일 */
#pinModal {
    backdrop-filter: blur(4px);
}

/* ======================================
   설정 화면 스타일
   ====================================== */

.settings-container {
    max-width: 480px;
    margin: 0 auto;
}

/* 섹션 타이틀 (설정 화면용) */
.settings-container .section-title {
    color: #374151;
}

/* 학생 목록 아이템 */
.settings-container #studentList > div {
    transition: all 0.2s ease;
}

.settings-container #studentList > div:hover {
    background: #F3F4F6;
}

/* ======================================
   펫 도감 스타일
   ====================================== */

/* 펫 도감 컨테이너 */
.pet-collection-container {
    min-height: calc(100vh - 80px);
    background: linear-gradient(180deg, #FFF9F0 0%, #FFFFFF 100%);
}

/* 펫 도감 카드 */
.pet-collection-card {
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.pet-collection-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.pet-collection-card:active {
    transform: scale(0.98);
}

/* 완성된 펫 반짝이는 테두리 */
@keyframes sparkle-border {
    0%, 100% {
        box-shadow: 0 0 5px rgba(251, 191, 36, 0.5),
                    0 0 10px rgba(251, 191, 36, 0.3),
                    0 0 15px rgba(251, 191, 36, 0.2);
    }
    50% {
        box-shadow: 0 0 10px rgba(251, 191, 36, 0.8),
                    0 0 20px rgba(251, 191, 36, 0.5),
                    0 0 30px rgba(251, 191, 36, 0.3);
    }
}

.pet-collection-sparkle-border {
    animation: sparkle-border 2s ease-in-out infinite;
}

/* 완성 상태 카드 배경 */
.pet-collection-completed {
    background: linear-gradient(135deg, #FFFBEB 0%, #FEF3C7 100%);
}

/* 현재 키우는 중 카드 배경 */
.pet-collection-current {
    background: linear-gradient(135deg, #EFF6FF 0%, #DBEAFE 100%);
}

/* 미소유 카드 */
.pet-collection-locked {
    background: #F9FAFB;
}

/* 범례 반짝임 효과 */
@keyframes sparkle-dot {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.pet-collection-sparkle {
    animation: sparkle-dot 1.5s ease-in-out infinite;
}

/* 흑백 필터 */
.grayscale {
    filter: grayscale(100%);
}

/* border-3 (Tailwind에 없는 경우) */
.border-3 {
    border-width: 3px;
}

/* ======================================
   Blob Animation Background
   ====================================== */

.blob {
    position: absolute;
    width: 280px;
    height: 280px;
    border-radius: 50%;
    filter: blur(70px);
    opacity: 0.6;
    animation: blob 7s infinite;
    z-index: 0;  /* 카드 아래에 배치 */
    pointer-events: none;
}

.blob-1 {
    top: -50px;
    right: -30px;
    background-color: #d8b4fe; /* purple-300 */
}

.blob-2 {
    top: 35%;
    left: -60px;
    background-color: #93c5fd; /* blue-300 */
    animation-delay: 2s;
}

.blob-3 {
    top: 65%;
    right: -40px;
    background-color: #fbcfe8; /* pink-200 */
    animation-delay: 4s;
}

@keyframes blob {
    0% {
        transform: translate(0, 0) scale(1);
    }
    33% {
        transform: translate(30px, -50px) scale(1.1);
    }
    66% {
        transform: translate(-20px, 20px) scale(0.9);
    }
    100% {
        transform: translate(0, 0) scale(1);
    }
}

/* 접근성: 모션 감소 선호 시 애니메이션 비활성화 */
@media (prefers-reduced-motion: reduce) {
    .blob {
        animation: none;
    }
}

/* 모바일에서 blob 완전 숨김 (성능) */
@media (max-width: 640px) {
    .blob {
        display: none !important;
    }
}

/* ======================================
   시간표 드래그 앤 드롭 스타일
   ====================================== */

/* 드래그 중인 셀 */
.timetable-cell-new.dragging {
    opacity: 0.5;
    transform: scale(0.95);
    border: 2px dashed #7C9EF5 !important;
    z-index: 10;
    touch-action: none;
    user-select: none;
    -webkit-user-select: none;
}

/* 드롭 가능 영역 (호버) */
.timetable-cell-new.drag-over {
    background-color: rgba(124, 158, 245, 0.2) !important;
    border: 2px solid #7C9EF5 !important;
    box-shadow: inset 0 0 0 3px rgba(124, 158, 245, 0.1);
    transform: scale(1.05);
}

/* 드래그 시작 준비 상태 (길게 누르는 중) */
.timetable-cell-new.drag-ready {
    transform: scale(0.98);
    box-shadow: 0 2px 8px rgba(124, 158, 245, 0.3);
}

/* 교환 모달 스타일 */
.swap-modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.2s ease;
}

.swap-modal-overlay.show {
    opacity: 1;
    visibility: visible;
}

.swap-modal-content {
    background: white;
    border-radius: 20px;
    padding: 24px;
    max-width: 320px;
    width: 90%;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    transform: translateY(20px);
    transition: transform 0.2s ease;
}

.swap-modal-overlay.show .swap-modal-content {
    transform: translateY(0);
}

.swap-preview {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    padding: 16px;
    background: #F9FAFB;
    border-radius: 12px;
    margin: 16px 0;
}

.swap-preview-cell {
    padding: 12px 16px;
    border-radius: 10px;
    font-weight: 600;
    font-size: 14px;
    min-width: 60px;
    text-align: center;
}

.swap-arrow {
    font-size: 20px;
    color: #7C9EF5;
}

/* 편집 모드 힌트 업데이트 */
.drag-hint {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    background: linear-gradient(135deg, rgba(124, 158, 245, 0.1) 0%, rgba(124, 224, 163, 0.1) 100%);
    border-radius: 12px;
    margin-top: 12px;
}

.drag-hint-icon {
    font-size: 18px;
}

.drag-hint-text {
    font-size: 13px;
    color: #4B5563;
}

/* 모바일 터치 최적화 */
@media (max-width: 640px) {
    .timetable-cell-new {
        touch-action: manipulation;
    }

    .timetable-cell-new.dragging {
        touch-action: none;
    }
}

/* ======================================
   모바일 성능 최적화 (핵심!)
   ====================================== */
@media (max-width: 640px) {
    /* GPU 가속 비활성화 - CPU 렌더링이 더 빠름 */
    * {
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
    }

    /* 모든 blur/backdrop-filter 완전 제거 */
    *,
    *::before,
    *::after {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        filter: none !important;
    }

    /* 단순 배경색으로 대체 */
    .nav-dock,
    .header-dock,
    .week-navigator-dock,
    .timetable-grid-dock,
    .timetable-btn-dock,
    .settings-btn-dock {
        background: rgba(255,255,255,0.97) !important;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08) !important;
    }

    .header-glass-btn,
    .timetable-cell-new,
    .liquid-btn-small {
        background: rgba(255,255,255,0.95) !important;
    }

    .app-header,
    header {
        background: #ffffff !important;
        box-shadow: 0 1px 2px rgba(0,0,0,0.05) !important;
    }

    /* 모든 ::before/::after 가상요소 숨김 */
    .nav-dock::before,
    .header-dock::before,
    .week-navigator-dock::before,
    .timetable-grid-dock::before,
    .timetable-btn-dock::before,
    .timetable-cell-new::before,
    .settings-btn-dock::before,
    .liquid-btn-small::before {
        display: none !important;
    }

    /* 트랜지션 최소화 */
    .nav-item,
    .timetable-cell-new,
    .card,
    button {
        transition: none !important;
    }

    /* 호버 효과 비활성화 (터치 기기) */
    .nav-item:hover,
    .timetable-cell-new:hover,
    .card:hover {
        transform: none !important;
    }

    /* box-shadow 단순화 */
    .card,
    .modal-content > div {
        box-shadow: 0 1px 3px rgba(0,0,0,0.1) !important;
    }

    /* blob 애니메이션 완전 제거 */
    .blob,
    .blob-1,
    .blob-2,
    .blob-3 {
        display: none !important;
    }

    /* 애니메이션 축소 */
    @media (prefers-reduced-motion: no-preference) {
        .animate-bounce {
            animation-duration: 1.5s !important;
        }
    }
}
