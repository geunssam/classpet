/* ======================================
   애니메이션 모음
   ====================================== */

/* 펫 카드 기본 애니메이션 */
@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

@keyframes wiggle {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-5deg); }
    75% { transform: rotate(5deg); }
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

@keyframes sparkle {
    0%, 100% { opacity: 1; filter: brightness(1); }
    50% { opacity: 0.8; filter: brightness(1.3); }
}

@keyframes levelUp {
    0% { transform: scale(1); }
    25% { transform: scale(1.3); }
    50% { transform: scale(1); }
    75% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

/* 펫 반응 애니메이션 (학생 모드) */

/* 점프 애니메이션 (아주 좋아요) */
@keyframes pet-jump {
    0%, 100% { transform: translateY(0) scale(1); }
    25% { transform: translateY(-30px) scale(1.1); }
    50% { transform: translateY(-10px) scale(1.05); }
    75% { transform: translateY(-20px) scale(1.08); }
}

.pet-jump {
    animation: pet-jump 0.8s ease-in-out;
}

/* 흔들림 애니메이션 (좋아요) */
@keyframes pet-wiggle-student {
    0%, 100% { transform: rotate(0deg); }
    20% { transform: rotate(-10deg); }
    40% { transform: rotate(10deg); }
    60% { transform: rotate(-8deg); }
    80% { transform: rotate(8deg); }
}

/* 고개 갸웃 (보통) */
@keyframes pet-tilt {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(-15deg); }
}

.pet-tilt {
    animation: pet-tilt 0.5s ease-in-out 2;
}

/* 다가가기 (안 좋아요) */
@keyframes pet-approach {
    0% { transform: translateY(0) scale(1); }
    50% { transform: translateY(-5px) scale(1.15); }
    100% { transform: translateY(0) scale(1.1); }
}

.pet-approach {
    animation: pet-approach 0.6s ease forwards;
}

/* 안아주기 (힘들어요) */
@keyframes pet-hug {
    0% { transform: scale(1); }
    30% { transform: scale(1.2); }
    60% { transform: scale(1.15) rotate(-5deg); }
    100% { transform: scale(1.1) rotate(0deg); }
}

.pet-hug {
    animation: pet-hug 0.8s ease forwards;
}

/* 느린 바운스 (로그인 화면) */
@keyframes bounce-slow {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
}

.animate-bounce-slow {
    animation: bounce-slow 2s ease-in-out infinite;
}

/* 흔들기 애니메이션 (PIN 오류) */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-8px); }
    40% { transform: translateX(8px); }
    60% { transform: translateX(-8px); }
    80% { transform: translateX(8px); }
}

.shake {
    animation: shake 0.5s ease-in-out;
}

/* ======================================
   Blob Animation Background
   ====================================== */

.blob {
    position: absolute;
    width: 280px;
    height: 280px;
    border-radius: 50%;
    filter: blur(70px);
    opacity: 0.6;
    animation: blob 7s infinite;
    z-index: 0;
    pointer-events: none;
}

.blob-1 {
    top: -50px;
    right: -30px;
    background-color: #d8b4fe;
}

.blob-2 {
    top: 35%;
    left: -60px;
    background-color: #93c5fd;
    animation-delay: 2s;
}

.blob-3 {
    top: 65%;
    right: -40px;
    background-color: #fbcfe8;
    animation-delay: 4s;
}

@keyframes blob {
    0% {
        transform: translate(0, 0) scale(1);
    }
    33% {
        transform: translate(30px, -50px) scale(1.1);
    }
    66% {
        transform: translate(-20px, 20px) scale(0.9);
    }
    100% {
        transform: translate(0, 0) scale(1);
    }
}

/* ======================================
   펫 클릭/idle 애니메이션
   ====================================== */

/* idle 숨쉬기 — 부드러운 scale 맥박 */
@keyframes pet-pulse-anim {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.03); }
}

.pet-pulse {
    animation: pet-pulse-anim 2.5s ease-in-out infinite;
}

/* 바운스 */
@keyframes pet-bounce-anim {
    0%, 100% { transform: translateY(0) scale(1); }
    40% { transform: translateY(-12px) scale(1.05); }
    60% { transform: translateY(-6px) scale(1.02); }
}

.pet-bounce {
    animation: pet-bounce-anim 0.5s ease-in-out;
}

/* 흔들기 */
@keyframes pet-wiggle-anim {
    0%, 100% { transform: rotate(0deg); }
    20% { transform: rotate(-8deg); }
    40% { transform: rotate(8deg); }
    60% { transform: rotate(-6deg); }
    80% { transform: rotate(6deg); }
}

.pet-wiggle {
    animation: pet-wiggle-anim 0.5s ease-in-out;
}

/* 레벨업 확대 반짝 */
@keyframes pet-levelup-anim {
    0% { transform: scale(1); filter: brightness(1); }
    30% { transform: scale(1.3); filter: brightness(1.4); }
    60% { transform: scale(1.05); filter: brightness(1.1); }
    80% { transform: scale(1.2); filter: brightness(1.3); }
    100% { transform: scale(1); filter: brightness(1); }
}

.pet-levelup {
    animation: pet-levelup-anim 0.8s ease-in-out;
}

/* 강아지용 클릭 — 통통 점프 + 살짝 회전 */
@keyframes pet-click-bounce-anim {
    0% { transform: translateY(0) scale(1) rotate(0deg); }
    25% { transform: translateY(-20px) scale(1.05) rotate(-5deg); }
    50% { transform: translateY(-12px) scale(1.1) rotate(0deg); }
    70% { transform: translateY(0) scale(1.05, 0.95) rotate(2deg); }
    85% { transform: translateY(-4px) scale(1.02) rotate(0deg); }
    100% { transform: translateY(0) scale(1) rotate(0deg); }
}

.pet-click-bounce {
    animation: pet-click-bounce-anim 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* 고양이용 클릭 — 갸우뚱 + 좌우 흔들 + scale */
@keyframes pet-click-wiggle-anim {
    0% { transform: rotate(0deg) scale(1); }
    20% { transform: rotate(-8deg) scale(1.02); }
    40% { transform: rotate(8deg) scale(1.05); }
    60% { transform: rotate(-5deg) scale(1.03); }
    80% { transform: rotate(3deg) scale(1.01); }
    100% { transform: rotate(0deg) scale(1); }
}

.pet-click-wiggle {
    animation: pet-click-wiggle-anim 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* 파티클 이펙트 fade-out */
@keyframes pet-click-particle {
    0% {
        opacity: 1;
        transform: translate(var(--tx, 0), var(--ty, 0)) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(calc(var(--tx, 0) * 2.5), calc(var(--ty, 0) * 2.5 - 20px)) scale(0.3);
    }
}

.pet-particle {
    position: absolute;
    pointer-events: none;
    font-size: 1.2rem;
    animation: pet-click-particle 0.8s ease-out forwards;
    z-index: 50;
}

/* 접근성: 모션 감소 선호 시 애니메이션 비활성화 */
@media (prefers-reduced-motion: reduce) {
    .blob {
        animation: none;
    }
    .pet-pulse,
    .pet-bounce,
    .pet-wiggle,
    .pet-levelup,
    .pet-click-bounce,
    .pet-click-wiggle {
        animation: none;
    }
    .pet-particle {
        animation: none;
        opacity: 0;
    }
}

/* 모바일에서 blob 완전 숨김 (성능) */
@media (max-width: 640px) {
    .blob {
        display: none !important;
    }
}

/* 완성된 펫 반짝이는 테두리 */
@keyframes sparkle-border {
    0%, 100% {
        box-shadow: 0 0 5px rgba(251, 191, 36, 0.5),
                    0 0 10px rgba(251, 191, 36, 0.3),
                    0 0 15px rgba(251, 191, 36, 0.2);
    }
    50% {
        box-shadow: 0 0 10px rgba(251, 191, 36, 0.8),
                    0 0 20px rgba(251, 191, 36, 0.5),
                    0 0 30px rgba(251, 191, 36, 0.3);
    }
}

.pet-collection-sparkle-border {
    animation: sparkle-border 2s ease-in-out infinite;
}

/* 범례 반짝임 효과 */
@keyframes sparkle-dot {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.pet-collection-sparkle {
    animation: sparkle-dot 1.5s ease-in-out infinite;
}
